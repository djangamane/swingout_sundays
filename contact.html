<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swingout Sundays | Contact</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=Great+Vibes&family=Source+Sans+3:wght@300;400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <button class="menu-toggle" type="button" aria-controls="menu-panel" aria-expanded="false">
        <span class="menu-toggle__bar"></span>
        <span class="sr-only">Open menu</span>
    </button>
    <div class="menu-scrim" data-menu-close></div>
    <nav class="menu-panel" id="menu-panel" aria-hidden="true">
        <p class="menu-panel__title">Swingout Sundays</p>
        <div class="menu-panel__links">
            <a href="events.html">Events</a>
            <a href="gallery.html">Gallery</a>
            <a href="merch.html">Merch</a>
            <a href="contact.html" aria-current="page">Contact</a>
        </div>
        <button class="menu-panel__close" type="button" data-menu-close>Close</button>
    </nav>
    <main>
        <section class="hero" aria-label="Swingout Sundays flyer"></section>
        <section class="content">
            <div class="content__inner">
                <header class="section-header">
                    <h1>Contact</h1>
                    <p>Send a note about Swingout Sundays or share a request for upcoming Sundays.</p>
                </header>
                <div class="contact-grid">
                    <article class="contact-card">
                        <h2>Venue</h2>
                        <p>SkyBar Lounge<br>200 Memorial Fwy, Nederland, TX</p>
                    </article>
                    <article class="contact-card">
                        <h2>Email</h2>
                        <p>swingoutsundays@gmail.com</p>
                    </article>
                    <form class="contact-form" action="https://hook.us2.make.com/iw7urtrhtrg4kxad3a6a6kvjfhtpuifh"
                        method="post">
                        <div>
                            <label for="name">Name</label>
                            <input id="name" name="name" type="text" autocomplete="name" required>
                        </div>
                        <div>
                            <label for="email">Email</label>
                            <input id="email" name="email" type="email" autocomplete="email" required>
                        </div>
                        <div>
                            <label for="message">Message</label>
                            <textarea id="message" name="message" required></textarea>
                        </div>
                        <button type="submit">Send Message</button>
                        <p class="form-status" role="status" aria-live="polite"></p>
                    </form>
                </div>
            </div>
        </section>
    </main>
    <script src="menu.js"></script>
    <script>
        const contactForm = document.querySelector(".contact-form");
        const statusEl = document.querySelector(".form-status");

        if (contactForm && statusEl) {
            contactForm.addEventListener("submit", async (event) => {
                event.preventDefault();
                statusEl.textContent = "Sending...";

                const submitButton = contactForm.querySelector("button[type=\"submit\"]");
                submitButton.disabled = true;

                try {
                    const response = await fetch(contactForm.action, {
                        method: "POST",
                        body: new FormData(contactForm)
                    });

                    if (!response.ok) {
                        throw new Error("Request failed.");
                    }

                    statusEl.textContent = "Thanks! Your message is on the way.";
                    contactForm.reset();
                } catch (error) {
                    statusEl.textContent = "Something went wrong. Please try again.";
                } finally {
                    submitButton.disabled = false;
                }
            });
        }
    </script>
</body>

</html>